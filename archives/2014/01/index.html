<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2014/1 | haowaiwai&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="haowaiwai's Blog">
<meta property="og:url" content="http://haowaiwai.github.io/archives/2014/01/">
<meta property="og:image">
<meta property="og:site_name" content="haowaiwai's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="haowaiwai's Blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="haowaiwai&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">haowaiwai&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://haowaiwai.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-centos6-dot-5pei-zhi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/22/centos6-dot-5pei-zhi/" class="article-date">
  <time datetime="2014-01-22T15:24:00.000Z" itemprop="datePublished">Jan 22 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/22/centos6-dot-5pei-zhi/">CentOS6.5配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="添加服务端口">添加服务端口</h2>
<p>根据策略配置，服务可能只被允许运行在特定的端口号 。试图改变服务运行的端口，在不改变政策，可能导致启动失败的服务。首先查看一下 SELinux 允许 HTTP 侦听 TCP 端口，使用命令：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>sudo yum <span class="attribute">-y</span> install policycoreutils<span class="attribute">-python</span>
<span class="variable">#list</span>
sudo semanage port <span class="attribute">-l</span> <span class="subst">|</span> grep <span class="attribute">-w</span> http_port_t
<span class="variable">#add</span>
sudo semanage port <span class="attribute">-a</span> <span class="attribute">-t</span> http_port_t <span class="attribute">-p</span> tcp <span class="number">8888</span>
</pre></td></tr></table></figure><br>## Set Apache environment ##<br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>gedit /etc/sysconfig/httpd
<span class="keyword">export</span> LANG=<span class="string">'en_US.UTF-8'</span>
<span class="keyword">export</span> LC_ALL=<span class="string">'en_US.UTF-8'</span>
</pre></td></tr></table></figure><br>## 安装MariaDB ##<br>Here is your custom MariaDB YUM repository entry for CentOS. Copy and paste it into a file under /etc/yum.repos.d/ (we suggest naming the file MariaDB.repo or something similar). See “Installing MariaDB with yum” for detailed information.<br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="preprocessor"># MariaDB 5.5 CentOS repository list - created 2014-01-27 02:21 UTC</span>
<span class="preprocessor"># http://mariadb.org/mariadb/repositories/</span>
[mariadb]
name = MariaDB
baseurl = http:<span class="comment">//yum.mariadb.org/5.5/centos6-amd64</span>
gpgkey=https:<span class="comment">//yum.mariadb.org/RPM-GPG-KEY-MariaDB</span>
gpgcheck=<span class="number">1</span>
</pre></td></tr></table></figure><br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>sudo yum install MariaDB<span class="attribute">-server</span> MariaDB<span class="attribute">-client</span>
sudo yum install MySQL<span class="attribute">-python</span>
</pre></td></tr></table></figure>

<h2 id="临时关闭SELinux">临时关闭SELinux</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>setenforce 0
</pre></td></tr></table></figure><br>## 彻底关闭SELinux ##<br><figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="attribute">/etc/selinux/config
SELINUX</span>=<span class="string">disabled</span>
</pre></td></tr></table></figure>

<h2 id="设置服务自启动">设置服务自启动</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>chkconfig <span class="comment">--list</span>
chkconfig mysql <span class="command"><span class="keyword">on</span></span>
chkconfig httpd <span class="command"><span class="keyword">on</span></span>
</pre></td></tr></table></figure>

<h2 id="安装pip">安装pip</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>yum <span class="keyword">install</span> python-setuptools
easy_install pip
pip <span class="keyword">install</span> Django==<span class="number">1.6</span>.<span class="number">1</span>
pip <span class="keyword">install</span> --upgrade setuptools
</pre></td></tr></table></figure>

<h2 id="XX_不在_sudoers_文件中。此事将被报告。">XX 不在 sudoers 文件中。此事将被报告。</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>visudo
xxxx    <span class="keyword">ALL</span>=(<span class="keyword">ALL</span>)       <span class="keyword">ALL</span>
</pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/22/centos6-dot-5pei-zhi/" data-id="gaye5vbpqytplsoe" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-django-upload-unicodeencodeerror" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/17/django-upload-unicodeencodeerror/" class="article-date">
  <time datetime="2014-01-17T06:06:00.000Z" itemprop="datePublished">Jan 17 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/17/django-upload-unicodeencodeerror/">django upload UnicodeEncodeError</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://code.djangoproject.com/wiki/django_apache_and_mod_wsgi" target="_blank">摘自django官方文档</a></p>
<p>If you’re taking advantage of the great Internationalization features of Django you may come across a curious problem. Namely, uploading of non-ascii filenames with the Django storage system with the default apache settings on most systems will trigger UnicodeEncodeError exceptions when calling functions like os.path(). To avoid these issues, ensure that the following lines are included in your apache envvars file (typically found in /etc/apache2/envvars).</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="keyword">export</span> LANG=<span class="string">'en_US.UTF-8'</span>
<span class="keyword">export</span> LC_ALL=<span class="string">'en_US.UTF-8'</span>
</pre></td></tr></table></figure>

<p>This error likely wont rear its head during development on the test server as, when run from the command line, the ./manage.py script inherits the users language and locale settings.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/17/django-upload-unicodeencodeerror/" data-id="kgs29se7imlfkpsm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ntptong-bu-fu-wu-qi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/17/ntptong-bu-fu-wu-qi/" class="article-date">
  <time datetime="2014-01-17T02:56:00.000Z" itemprop="datePublished">Jan 17 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/17/ntptong-bu-fu-wu-qi/">NTP同步服务器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="设置系统时间与网络时间同步">设置系统时间与网络时间同步</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>ntpdate cn<span class="preprocessor">.pool</span><span class="preprocessor">.ntp</span><span class="preprocessor">.org</span>
</pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/17/ntptong-bu-fu-wu-qi/" data-id="7a9a9kxuef5qcjch" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-she-zhi-mysqlzi-qi-dong" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/16/she-zhi-mysqlzi-qi-dong/" class="article-date">
  <time datetime="2014-01-16T07:10:00.000Z" itemprop="datePublished">Jan 16 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/16/she-zhi-mysqlzi-qi-dong/">设置mysql自启动</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="设置自启动">设置自启动</h2>
<p>sudo update-rc.d -f mysql defaults</p>
<h2 id="设置不启动">设置不启动</h2>
<p>sudo update-rc.d -f mysql remove</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/16/she-zhi-mysqlzi-qi-dong/" data-id="pdfii9j477mwv26n" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-an-zhuang-gnomezhu-ti" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/16/an-zhuang-gnomezhu-ti/" class="article-date">
  <time datetime="2014-01-16T05:55:00.000Z" itemprop="datePublished">Jan 16 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/16/an-zhuang-gnomezhu-ti/">安装GNOME主题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="安装GNOME主题">安装GNOME主题</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>sudo add<span class="attribute">-apt</span><span class="attribute">-repository</span> ppa:tiheum/equinox
sudo apt<span class="attribute">-get</span> update
sudo apt<span class="attribute">-get</span> install faience<span class="attribute">-theme</span>
sudo apt<span class="attribute">-get</span> install faience<span class="attribute">-icon</span><span class="attribute">-theme</span> faenza<span class="attribute">-icon</span><span class="attribute">-theme</span>
</pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/16/an-zhuang-gnomezhu-ti/" data-id="5j3jqjho9oie55wv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-goagentdao-ru-zheng-shu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/14/goagentdao-ru-zheng-shu/" class="article-date">
  <time datetime="2014-01-14T02:56:00.000Z" itemprop="datePublished">Jan 14 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/14/goagentdao-ru-zheng-shu/">goagent导入证书</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>FireFox-&gt;选项-&gt;高级-&gt;加密-&gt;查看证书-&gt;证书机构-&gt;导入证书, 选择local\ca.crt, 勾选所有项，导入。 </p>
<p>Chrome-&gt;设置-&gt;管理证书-&gt;授权中心-&gt;导入。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/14/goagentdao-ru-zheng-shu/" data-id="3s0fnk1jk66g658v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sheng-chan-8mfirmware" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/05/sheng-chan-8mfirmware/" class="article-date">
  <time datetime="2014-01-05T02:01:00.000Z" itemprop="datePublished">Jan 5 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/05/sheng-chan-8mfirmware/">生产 8M firmware</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="for_8M_flash">for 8M flash</h1>
<pre><code>rm firmware.bin
dd <span class="keyword">if</span>=tuboot.bin <span class="operator">of</span>=firmware.bin bs=<span class="number">512</span> count=<span class="number">512</span> <span class="built_in">seek</span>=<span class="number">0</span>
<span class="comment">#128 u-boot-env</span>
dd <span class="keyword">if</span>=ap121-<span class="number">2.6</span><span class="number">.31</span>-squashfs <span class="operator">of</span>=firmware.bin bs=<span class="number">512</span> count=<span class="number">6144</span> <span class="built_in">seek</span>=<span class="number">640</span>
dd <span class="keyword">if</span>=vmlinux.lzma.uImage <span class="operator">of</span>=firmware.bin bs=<span class="number">512</span> count=<span class="number">2944</span> <span class="built_in">seek</span>=<span class="number">6784</span>
<span class="comment">#128 NVRAM</span>
dd <span class="keyword">if</span>=app.squashfs <span class="operator">of</span>=firmware.bin bs=<span class="number">512</span> count=<span class="number">3200</span> <span class="built_in">seek</span>=<span class="number">9856</span>
dd <span class="keyword">if</span>=app.squashfs <span class="operator">of</span>=firmware.bin bs=<span class="number">512</span> count=<span class="number">3200</span> <span class="built_in">seek</span>=<span class="number">13056</span>
dd <span class="keyword">if</span>=caldata <span class="operator">of</span>=firmware.bin bs=<span class="number">512</span> count=<span class="number">128</span> <span class="built_in">seek</span>=<span class="number">16256</span>
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/05/sheng-chan-8mfirmware/" data-id="zz148hkpd8xl8g8n" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-django-admin-locale-format" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/01/03/django-admin-locale-format/" class="article-date">
  <time datetime="2014-01-03T07:27:00.000Z" itemprop="datePublished">Jan 3 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/01/03/django-admin-locale-format/">Django admin locale format</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>/usr/local/lib/python2.7/dist-packages/django/conf/locale/zh_CN</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://haowaiwai.github.io/2014/01/03/django-admin-locale-format/" data-id="fy89ciox4esg6mo6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05">May 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04">April 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03">March 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02">February 2014</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01">January 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12">December 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07">July 2013</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/05/21/ubuntu-apache2-servername-error/">ubuntu apache2 servername error</a>
          </li>
        
          <li>
            <a href="/2014/05/21/ubuntu-apache2-httpsda-jian/">ubuntu apache2 https搭建</a>
          </li>
        
          <li>
            <a href="/2014/05/20/hui-fu-octopress/">恢复octopress</a>
          </li>
        
          <li>
            <a href="/2014/05/20/vikuai-jie-jian-zheng-li/">VI快捷键整理</a>
          </li>
        
          <li>
            <a href="/2014/05/19/mei-nu-tu-tu/">美女图图</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 haowaiwai<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript" src="/js/script.js"></script>
  </div>
</body>
</html>